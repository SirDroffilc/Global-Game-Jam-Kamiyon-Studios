[gd_scene format=3 uid="uid://c3emj4ho0t73a"]

[ext_resource type="Script" uid="uid://b61nycqtkcviv" path="res://scripts/players/player.gd" id="1_6wyko"]
[ext_resource type="Texture2D" uid="uid://bnwcvw5jedns2" path="res://assets/Player (Dark).png" id="2_lirf0"]
[ext_resource type="Texture2D" uid="uid://dli3en07yvdy1" path="res://assets/Player (Light).png" id="3_qohf6"]
[ext_resource type="Script" uid="uid://dcs3gnpffefhp" path="res://scripts/players/state_machine.gd" id="4_lirf0"]
[ext_resource type="Script" uid="uid://ds0ef6ofha7uv" path="res://scripts/players/idle_state.gd" id="5_qohf6"]
[ext_resource type="Script" uid="uid://5gjtqmxlqwfy" path="res://scripts/players/run_state.gd" id="6_it8sy"]
[ext_resource type="Script" uid="uid://cj3ap6gvghpnj" path="res://scripts/players/jump_state.gd" id="7_vxtj5"]
[ext_resource type="Script" uid="uid://b17kdu1m6ngr7" path="res://scenes/players/double_jump_state.gd" id="8_phaeh"]
[ext_resource type="Script" uid="uid://dlraub0o0jqin" path="res://scenes/players/attack_state.gd" id="9_yl2j2"]

[sub_resource type="AtlasTexture" id="AtlasTexture_phaeh"]
atlas = ExtResource("2_lirf0")
region = Rect2(720, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_yl2j2"]
atlas = ExtResource("2_lirf0")
region = Rect2(640, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_es4m5"]
atlas = ExtResource("2_lirf0")
region = Rect2(560, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fsrjl"]
atlas = ExtResource("2_lirf0")
region = Rect2(480, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_mh0hk"]
atlas = ExtResource("2_lirf0")
region = Rect2(400, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_18rgo"]
atlas = ExtResource("2_lirf0")
region = Rect2(320, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_wb5ey"]
atlas = ExtResource("3_qohf6")
region = Rect2(720, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_vjh8g"]
atlas = ExtResource("3_qohf6")
region = Rect2(640, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_f1232"]
atlas = ExtResource("3_qohf6")
region = Rect2(560, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_v7vuu"]
atlas = ExtResource("3_qohf6")
region = Rect2(480, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bdc4e"]
atlas = ExtResource("3_qohf6")
region = Rect2(400, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qb7t6"]
atlas = ExtResource("3_qohf6")
region = Rect2(320, 320, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_it8sy"]
atlas = ExtResource("2_lirf0")
region = Rect2(720, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_vxtj5"]
atlas = ExtResource("2_lirf0")
region = Rect2(640, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_81ukp"]
atlas = ExtResource("2_lirf0")
region = Rect2(560, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_nxvdy"]
atlas = ExtResource("2_lirf0")
region = Rect2(480, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_8v7ue"]
atlas = ExtResource("2_lirf0")
region = Rect2(400, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_a4fp5"]
atlas = ExtResource("3_qohf6")
region = Rect2(720, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_drjwx"]
atlas = ExtResource("3_qohf6")
region = Rect2(640, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ba075"]
atlas = ExtResource("3_qohf6")
region = Rect2(560, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_e8wos"]
atlas = ExtResource("3_qohf6")
region = Rect2(480, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_qneey"]
atlas = ExtResource("3_qohf6")
region = Rect2(400, 0, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_y7wxv"]
atlas = ExtResource("2_lirf0")
region = Rect2(720, 256, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_a0vr3"]
atlas = ExtResource("2_lirf0")
region = Rect2(640, 256, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_h4qbe"]
atlas = ExtResource("2_lirf0")
region = Rect2(560, 256, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_pjwg2"]
atlas = ExtResource("2_lirf0")
region = Rect2(480, 256, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_e4sx6"]
atlas = ExtResource("3_qohf6")
region = Rect2(720, 256, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_c2tnm"]
atlas = ExtResource("3_qohf6")
region = Rect2(640, 256, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4sb0g"]
atlas = ExtResource("3_qohf6")
region = Rect2(560, 256, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_e7hcq"]
atlas = ExtResource("3_qohf6")
region = Rect2(480, 256, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_m8k0j"]
atlas = ExtResource("2_lirf0")
region = Rect2(720, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_laay2"]
atlas = ExtResource("2_lirf0")
region = Rect2(640, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_gctep"]
atlas = ExtResource("2_lirf0")
region = Rect2(560, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_posqj"]
atlas = ExtResource("2_lirf0")
region = Rect2(480, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_heu4v"]
atlas = ExtResource("2_lirf0")
region = Rect2(400, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ykk77"]
atlas = ExtResource("2_lirf0")
region = Rect2(320, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_sor80"]
atlas = ExtResource("2_lirf0")
region = Rect2(240, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_j2vvl"]
atlas = ExtResource("2_lirf0")
region = Rect2(160, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ojj1n"]
atlas = ExtResource("3_qohf6")
region = Rect2(720, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_5j0mc"]
atlas = ExtResource("3_qohf6")
region = Rect2(640, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_hsmd4"]
atlas = ExtResource("3_qohf6")
region = Rect2(560, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_56u2r"]
atlas = ExtResource("3_qohf6")
region = Rect2(480, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4ee5m"]
atlas = ExtResource("3_qohf6")
region = Rect2(400, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_x0cey"]
atlas = ExtResource("3_qohf6")
region = Rect2(320, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_8khhw"]
atlas = ExtResource("3_qohf6")
region = Rect2(240, 128, 80, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_m713k"]
atlas = ExtResource("3_qohf6")
region = Rect2(160, 128, 80, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_m713k"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_phaeh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yl2j2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_es4m5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fsrjl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mh0hk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_18rgo")
}],
"loop": false,
"name": &"attack_dark",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_wb5ey")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vjh8g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f1232")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v7vuu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bdc4e")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qb7t6")
}],
"loop": false,
"name": &"attack_light",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_it8sy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vxtj5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_81ukp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nxvdy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8v7ue")
}],
"loop": true,
"name": &"idle_dark",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_a4fp5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_drjwx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ba075")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e8wos")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qneey")
}],
"loop": true,
"name": &"idle_light",
"speed": 6.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_y7wxv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a0vr3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_h4qbe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pjwg2")
}],
"loop": true,
"name": &"jump_dark",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_e4sx6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c2tnm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4sb0g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e7hcq")
}],
"loop": true,
"name": &"jump_light",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_m8k0j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_laay2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gctep")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_posqj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_heu4v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ykk77")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sor80")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j2vvl")
}],
"loop": true,
"name": &"run_dark",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ojj1n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5j0mc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hsmd4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_56u2r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4ee5m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x0cey")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8khhw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m713k")
}],
"loop": true,
"name": &"run_light",
"speed": 15.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wb5ey"]
size = Vector2(15, 49)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_3s26m"]
radius = 5.0
height = 46.0

[node name="Player" type="CharacterBody2D" unique_id=395045780]
collision_layer = 2
collision_mask = 21
script = ExtResource("1_6wyko")

[node name="AnimatedSprite" type="AnimatedSprite2D" parent="." unique_id=1496140655]
position = Vector2(0, -32)
sprite_frames = SubResource("SpriteFrames_m713k")
animation = &"attack_light"

[node name="Hitbox" type="Area2D" parent="AnimatedSprite" unique_id=872769681]
collision_layer = 0
collision_mask = 32

[node name="CollisionShape2D" type="CollisionShape2D" parent="AnimatedSprite/Hitbox" unique_id=1221790573]
position = Vector2(6.5, 7.5)
shape = SubResource("RectangleShape2D_wb5ey")
disabled = true
debug_color = Color(0.94861215, 0.14732769, 0.44364715, 0.41960785)

[node name="CollisionShape" type="CollisionShape2D" parent="." unique_id=1288298047]
position = Vector2(0, -23)
shape = SubResource("CapsuleShape2D_3s26m")

[node name="StateMachine" type="Node" parent="." unique_id=1167466857 node_paths=PackedStringArray("initial_state")]
script = ExtResource("4_lirf0")
initial_state = NodePath("IdleState")

[node name="IdleState" type="Node" parent="StateMachine" unique_id=919569677 node_paths=PackedStringArray("run_state", "jump_state", "attack_state")]
script = ExtResource("5_qohf6")
run_state = NodePath("../RunState")
jump_state = NodePath("../JumpState")
attack_state = NodePath("../AttackState")
animation_name = "idle"

[node name="RunState" type="Node" parent="StateMachine" unique_id=793848561 node_paths=PackedStringArray("idle_state", "jump_state", "attack_state")]
script = ExtResource("6_it8sy")
idle_state = NodePath("../IdleState")
jump_state = NodePath("../JumpState")
attack_state = NodePath("../AttackState")
animation_name = "run"

[node name="JumpState" type="Node" parent="StateMachine" unique_id=592862481 node_paths=PackedStringArray("idle_state", "run_state", "double_jump_state")]
script = ExtResource("7_vxtj5")
idle_state = NodePath("../IdleState")
run_state = NodePath("../RunState")
double_jump_state = NodePath("../DoubleJumpState")
animation_name = "jump"

[node name="DoubleJumpState" type="Node" parent="StateMachine" unique_id=1241482067 node_paths=PackedStringArray("idle_state", "run_state")]
script = ExtResource("8_phaeh")
idle_state = NodePath("../IdleState")
run_state = NodePath("../RunState")
animation_name = "jump"

[node name="AttackState" type="Node" parent="StateMachine" unique_id=1560325941 node_paths=PackedStringArray("idle_state")]
script = ExtResource("9_yl2j2")
idle_state = NodePath("../IdleState")
animation_name = "attack"
